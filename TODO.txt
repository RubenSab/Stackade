- add stackHeight
- add rand
- omptimize looping